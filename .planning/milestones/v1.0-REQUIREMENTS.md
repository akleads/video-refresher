# Requirements Archive: v1.0 Batch Processing MVP

**Archived:** 2026-02-07
**Status:** SHIPPED

This is the archived requirements specification for v1.0.
For current requirements, see `.planning/REQUIREMENTS.md` (created for next milestone).

---

## v1 Requirements

### Batch Generation

- [x] **BATCH-01**: User can specify number of variations via number input field (1-20 range) — v1.0
- [x] **BATCH-02**: Each variation receives a unique random combination of effects (no duplicate combos within batch) — v1.0
- [x] **BATCH-03**: User can cancel batch processing mid-operation — v1.0
- [x] **BATCH-04**: Processed variations follow consistent naming: `originalname_var1_abc123.mp4` — v1.0

### Progress & UX

- [x] **PROG-01**: UI shows per-variation progress: "Processing variation 3/10..." with progress bar — v1.0
- [x] **PROG-02**: First completed variation displayed in existing preview area for quality check — v1.0

### Memory Management

- [x] **MEM-01**: Blob URLs revoked between variations to prevent memory leaks — v1.0
- [x] **MEM-02**: FFmpeg virtual filesystem cleaned between each variation — v1.0
- [x] **MEM-03**: processedVideos array managed — old entries cleaned up — v1.0
- [x] **MEM-04**: FFmpeg instance recovery on partial failure (reload if corrupted) — v1.0

### Download

- [x] **DL-01**: All variations downloadable as single ZIP file via JSZip — v1.0
- [x] **DL-02**: ZIP uses STORE compression (no re-compression of video data) — v1.0

### Performance

- [x] **PERF-01**: FFmpeg.wasm upgraded from 0.11.6 to 0.12.x for multi-threading support — v1.0
- [x] **PERF-02**: Encoding uses ultrafast preset for ~30% speed improvement — v1.0
- [x] **PERF-03**: Input video buffer read once and reused across all variations — v1.0

## Traceability

| Requirement | Phase | Status |
|-------------|-------|--------|
| PERF-01 | Phase 1 | Complete |
| MEM-01 | Phase 2 | Complete |
| MEM-02 | Phase 2 | Complete |
| MEM-03 | Phase 2 | Complete |
| MEM-04 | Phase 2 | Complete |
| PERF-02 | Phase 3 | Complete |
| PERF-03 | Phase 3 | Complete |
| BATCH-01 | Phase 4 | Complete |
| BATCH-02 | Phase 4 | Complete |
| BATCH-03 | Phase 4 | Complete |
| BATCH-04 | Phase 4 | Complete |
| PROG-01 | Phase 4 | Complete |
| PROG-02 | Phase 4 | Complete |
| DL-01 | Phase 5 | Complete |
| DL-02 | Phase 5 | Complete |

**Coverage:**
- v1 requirements: 15 total
- Shipped: 15 (100%)
- Adjusted: 0
- Dropped: 0

---

## Milestone Summary

**Shipped:** 15 of 15 v1 requirements
**Adjusted:** None — all requirements shipped as originally specified
**Dropped:** None

---
*Archived: 2026-02-07 as part of v1.0 milestone completion*
