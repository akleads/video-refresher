---
phase: 18-visual-polish
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - styles.css
  - index.html
  - views/login.js
autonomous: true

must_haves:
  truths:
    - "Strict spacing scale (4/8/12/16/24/32px) defined in CSS variables and used consistently"
    - "Layout uses full viewport width with no max-width container on #app"
    - "Login page is vertically centered with branded heading and tagline"
    - "Login page feels like a polished entry point (centered form, subtle background)"
  artifacts:
    - path: "styles.css"
      provides: "Spacing scale variables, full-width #app, login page styles"
      contains: "--spacing-"
    - path: "index.html"
      provides: "App container without max-width constraint"
    - path: "views/login.js"
      provides: "Branded login with heading, tagline, centered layout"
  key_links:
    - from: "views/login.js"
      to: "styles.css"
      via: "CSS classes for login layout"
      pattern: "login-"
---

<objective>
Establish the strict spacing scale, switch to full-width layout, and redesign the login page as a branded entry point.

Purpose: Create the spacing foundation that all other visual polish builds on, and deliver the first polished view (login) as proof of the new design direction.
Output: Updated styles.css with spacing scale, full-width #app, and login page CSS classes. Redesigned login.js using CSS classes instead of inline styles.
</objective>

<execution_context>
@/Users/alexkozhemiachenko/.claude/get-shit-done/workflows/execute-plan.md
@/Users/alexkozhemiachenko/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/18-visual-polish/18-CONTEXT.md
@.planning/phases/14-css-foundation/14-01-SUMMARY.md
@styles.css
@index.html
@views/login.js
</context>

<tasks>

<task type="auto">
  <name>Task 1: Spacing scale, full-width layout, and login page CSS classes</name>
  <files>styles.css, index.html</files>
  <action>
**Spacing scale:** Replace existing spacing variables in :root with a strict 4/8/12/16/24/32px scale:
```
--space-1: 4px;
--space-2: 8px;
--space-3: 12px;
--space-4: 16px;
--space-6: 24px;
--space-8: 32px;
```
Keep the old `--spacing-*` variables as aliases mapping to the new `--space-*` values so existing code doesn't break:
```
--spacing-xs: var(--space-1);   /* 4px */
--spacing-sm: var(--space-2);   /* 8px */
--spacing-md: var(--space-3);   /* 12px */
--spacing-base: var(--space-4); /* 16px */
--spacing-lg: var(--space-6);   /* 24px */
--spacing-xl: var(--space-8);   /* 32px */
--spacing-2xl: 48px;            /* keep for large gaps */
--spacing-3xl: 64px;            /* keep for large gaps */
```

**Full-width layout:** In styles.css, change `#app` to remove `max-width: 900px` and set `max-width: none`. Remove the `margin: 0 auto` centering. Keep the background, border-radius (reduce to 0 since it's full-width), box-shadow (remove since full-width), and min-height.

In `index.html`, no HTML changes needed -- the #app div stays the same.

**Body:** Reduce body padding to `0` (full-width means edge-to-edge). The nav and views will handle their own internal padding.

**Nav:** Update `.nav` padding to use the new spacing scale. Since layout is full-width, nav should use horizontal padding of `--space-6` (24px) for a compact feel.

**View containers:** Update `.view` padding to `--space-6` (24px) for compact density. This replaces the current `--spacing-3xl` (4rem/64px) which is very generous.

**Login page CSS classes:** Add the following CSS classes to styles.css:
- `.login-page` — flex container, justify-content: center, align-items: center, min-height: 80vh (vertically centers the form)
- `.login-card` — max-width: 380px, width: 100%, text-align: center, padding: `--space-8` (32px)
- `.login-heading` — font-size: `--font-size-2xl`, font-weight: bold, margin-bottom: `--space-2` (8px), color: `--color-text-primary`
- `.login-tagline` — font-size: `--font-size-sm`, color: `--color-text-muted`, margin-bottom: `--space-8` (32px), line-height: `--line-height-relaxed`
- `.login-error` — background: `--color-error-bg`, color: `--color-error-text`, padding: `--space-3` (12px), border-radius: `--radius-md`, margin-bottom: `--space-4` (16px), font-size: `--font-size-sm`
- `.login-input` — width: 100%, padding: `--space-3` (12px), font-size: `--font-size-base`, border: 1px solid `--color-input-border`, border-radius: `--radius-md`, background: `--color-input-bg`, color: `--color-input-text`, margin-bottom: `--space-4` (16px), outline: none. Add focus state: border-color: `--color-accent`
- `.login-submit` — width: 100%, padding: `--space-3` (12px), font-size: `--font-size-base`, background: `--color-accent`, color: `--color-gray-50`, border: none, border-radius: `--radius-md`, cursor: pointer, font-weight: `--font-weight-medium`, transition: background 0.2s. Hover: background `--color-accent-hover`. Disabled: opacity 0.5, cursor not-allowed.

  </action>
  <verify>
Visually inspect styles.css for: spacing variables with px values, #app without max-width, body padding 0, .view padding reduced, and all login-* CSS classes present.
  </verify>
  <done>Spacing scale defined with strict px values, full-width layout applied, login CSS classes ready for use.</done>
</task>

<task type="auto">
  <name>Task 2: Redesign login view with CSS classes and branded layout</name>
  <files>views/login.js</files>
  <action>
Rewrite `renderLogin()` to use the new CSS classes, eliminating all inline `style.cssText` assignments. The login page should have no nav bar (already handled by app.js) and should feel like a branded entry point.

**Structure:**
1. Clear the container
2. Create outer div with class `login-page` (handles vertical centering)
3. Inside, create div with class `login-card`
4. Heading h1 with class `login-heading`, text "Video Refresher"
5. Tagline p with class `login-tagline`, text: "Fresh variations for your video ads, instantly." (Claude's discretion for copy)
6. If `params.expired === '1'`, show div with class `login-error` and text "Session expired. Please log in again."
7. Error div with class `login-error`, display: none initially (toggled on auth failure)
8. Form with:
   - Password input with class `login-input`, type password, placeholder "Password", required, autofocus
   - Submit button with class `login-submit`, text "Log In"
9. Form submit handler: same logic as current but use classList to toggle disabled state instead of inline style manipulation. On disable: add `disabled` attribute. On re-enable: remove `disabled` attribute. No inline style changes -- the CSS classes handle all states.

**Remove all `style.cssText` assignments** and `style.*` property sets. Everything should be controlled via CSS classes defined in Task 1. The only exception is `errorDiv.style.display` toggling between 'none' and 'block' for showing/hiding the error.

**No emoji** in the login page.
  </action>
  <verify>
Read views/login.js and confirm: no `style.cssText` assignments, all elements use CSS class names (login-page, login-card, login-heading, login-tagline, login-input, login-submit, login-error), tagline text present.
  </verify>
  <done>Login page uses CSS classes, has branded heading with tagline, and is vertically centered. No inline styles except display toggling.</done>
</task>

</tasks>

<verification>
1. Open the app in browser, navigate to login page
2. Verify: heading "Video Refresher" with tagline below it, centered vertically
3. Verify: form with password input and login button, clean/branded feel
4. Verify: full-width layout (no narrow centered container)
5. Verify: compact spacing throughout
</verification>

<success_criteria>
- Spacing scale defined as CSS variables with strict px values
- #app is full-width (no max-width: 900px)
- Login page is vertically centered with branded heading and tagline
- Login view uses CSS classes exclusively (no inline styles except display toggles)
- All existing functionality preserved (login flow, error handling)
</success_criteria>

<output>
After completion, create `.planning/phases/18-visual-polish/18-01-SUMMARY.md`
</output>
